---
layout: post
title: How to write tutorial blog post
excerpt: "A description on how to write technical documents."
categories: [Blogging Standards]
tags: [Post Template]
modified: 2019-11-29
comments: true
---

## Description

In this tutorial we will be looking at Syncfusions data table component for blazor.

## Goals

* Use the Syncfusion DataGrid component.
* Set up two way binding with an API.
* Be able to create/update/edit/delete content all from the control.
* Have a toolbar with create/edit/delete
* Have a context menu with edit/delete

## Perquisites

* Computer Win/Mac/Linux
* VS Code
* .Net Core 3.1 SDK
* Blazor Server side app
* Syncfusion Nuget Installed (ToDo : Create tutorial on basic setup of Syncfusion)

## Basic Data Grid - View only
This Data Grid is used to display tabular data. It can pull the data from data sources, like IEnumerable, OData web services, or  `DataManager`  and bind the object fields to columns. It also displays a column header to identify the field.

In the example below, the Grid is populated with its minimum default settings

    @page "/Grid/DefaultFunctionalities"
    @using Syncfusion.EJ2.Blazor.Grids
    <div class="col-lg-12 control-section">
        <div class="content-wrapper">
            <div class="row">
                <EjsGrid DataSource="@GridData" AllowPaging="true" >
                    <GridColumns>
                        <GridColumn Field=@nameof(OrdersDetails.OrderID) HeaderText="Order ID" TextAlign="TextAlign.Right"  Width="120"></GridColumn>
                        <GridColumn Field=@nameof(OrdersDetails.CustomerID) HeaderText="Customer Name" Width="150"></GridColumn>
                        <GridColumn Field=@nameof(OrdersDetails.OrderDate) HeaderText="Order Date" Format="yMd" Type="ColumnType.Date" TextAlign="TextAlign.Right"  Width="130"></GridColumn>
                        <GridColumn Field=@nameof(OrdersDetails.Freight) HeaderText="Freight" Format="C2" TextAlign="TextAlign.Right"  Width="120"></GridColumn>                   
                        <GridColumn Field=@nameof(OrdersDetails.ShipCountry) HeaderText="Ship Country" Width="150"></GridColumn>
                    </GridColumns>
                </EjsGrid>
            </div>
        </div>
    </div>
    @code{
        public List<OrdersDetails> GridData { get; set; }
        protected override void OnInitialized()
        {
            GridData = OrdersDetails.GetAllRecords();
        }
    }

## Data Grid - Two-Way Binding

### Custom Binding
For the moment I will have to use the custom data binding as my projects API is not to the odata standard (Further research needed). If I can make the API odata compliant i could use one of the simpiler data binding methods.

My Classes for my current project are set up as follows :-
| class | description|
|---|---|
| Service | Talks with the API & the Service class <br> Handels data transfer from API to webapp |
| State| Talks with the Service Class & Razor View <br> This handels data binding for the View |
| Razor View| UI that binds to the State |

To get the control working for now I will add a new class as follows :-
| class | description|
|---|---|
| Service | Uses: Api <br> Exposes: CRUD|
| Adapter | Uses: Service <br> Exposes: CRUD |
| State| Uses: Service, Adapter <br> Exposes: UI variables, Adapter|
| Razor View| Uses: Service, Adapter <br> Binds: UI variables, Adapter |

The custom data binding can be performed in the Grid component by providing the custom adaptor class and overriding the  `Read or ReadAsync`  method of the DataAdaptor abstract class. The CRUD operations for the custom bounded data in the Grid component can be implemented by overriding the following CRUD methods of the DataAdaptor abstract class,  

-   `Insert/InsertAsync`  - Performs Insert operation.
-   `Remove/RemoveAsync`  - Performs Remove operation.
-   `Update/UpdateAsync`  - Performs Update operation.
-   `BatchUpdate/BatchUpdateAsync`  - Performs BatchUpdate operation.

### The code
In this demo, CRUD operations for the custom bounded data is performed using the methods of DataAdaptor abstract class. Similarly, you can perform Batch Update operations using  `BatchUpdate/BatchUpdateAsync`  methods.

    public class CustomAdaptor : DataAdaptor
    {
        public List<Order> Orders { get; set; } = Order.GetAllRecords();
        public override async Task<Object> ReadAsync(DataManagerRequest dataManagerRequest, string key = null) {
            IEnumerable<Order> GridData = Orders;
            await Task.Delay(100); //To mimic asynchronous operation, we delayed this operation using Task.Delay
            if (dataManagerRequest.Skip != 0)
            {
                GridData = GridData.Skip(dataManagerRequest.Skip); //Paging
            }
            if (dataManagerRequest.Take != 0)
            {
                GridData = GridData.Take(dataManagerRequest.Take);
            }
            return dataManagerRequest.RequiresCounts ? new DataResult() { Result = GridData, Count = Order.GetAllRecords().Count()} : (object)GridData;
        }
        public override async Task<Object> InsertAsync(DataManager dataManager, object value, string key) {
            await Task.Delay(100); //To mimic asynchronous operation, we delayed this operation using Task.Delay
            Orders.Insert(0, value as Order);
            return value;
        }
        public override async Task<object> RemoveAsync(DataManager dataManager, object value, string keyField, string key) {
            await Task.Delay(100); //To mimic asynchronous operation, we delayed this operation using Task.Delay
            int data = (int)value;
            Orders.Remove(Orders.Where((Order) => Order.OrderID == data).FirstOrDefault());
            return value;
        }
        public override async Task<object> UpdateAsync(DataManager dataManager, object value, string keyField, string key) {
            await Task.Delay(100); //To mimic asynchronous operation, we delayed this operation using Task.Delay
            var val = (value as Order);
            var data = Orders.Where((Order) => Order.OrderID == val.OrderID).FirstOrDefault();
            if (data != null) {
                data.CustomerID = val.CustomerID;
                data.Freight = val.Freight;
                data.OrderDate = val.OrderDate;
            }
            return value;
        }
    }

## References

*  [Syncfusion.com](https://blazor.syncfusion.com/demos/Grid/)

  

## What's Next

*  [Jekyll](https://jekyllrb.com/)